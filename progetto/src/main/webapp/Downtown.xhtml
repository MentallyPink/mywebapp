<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">


<h:head>
	<title>Downtown</title>

</h:head>
<h:body>

	<h:outputStylesheet name="test.css" />
	<link rel="stylesheet" type="text/css" href="test.css" />

	<f:metadata>
		<f:viewAction action="#{MBDowntown.exit}" />
	</f:metadata>

	<h:form>
		<div align="center">
			<h:panelGroup id="race-pop_up" styleClass="#{MBDowntown.cssClass} ">
				<h:panelGrid styleClass="container info">
					<h2>Stai Gareggiando!</h2>
					<h:outputText value="Posizioni: " />
					<br />
					<ui:repeat value="#{MBDowntown.carMap.entrySet()}" var="player"
						varStatus="loop">

						<h:outputText value="N.#{loop.index + 1}: #{player.value}" />
						<br />
					</ui:repeat>
					<h:commandButton value="test" action="#{MBDowntown.race}" />
					<h:commandButton value="esci dal popup">
						<f:ajax event="click" render="race-pop_up"
							listener="#{MBDowntown.exit}" />
					</h:commandButton>
				</h:panelGrid>
			</h:panelGroup>
		</div>
		<h:outputText value="#{MBDowntown.countWin}" style="color: white" />
		<div class="grid-3">
			<h:panelGroup rendered="#{MBDowntown.countWin lt 5}">
				<div align="center">
					<h:graphicImage value="/media/races/#{MBDowntown.racess[0].tracciato}.jpg"
						styleClass="#{MBDowntown.raceState}">
						<f:ajax event="click" render="race-pop_up"
							listener="#{MBDowntown.show}" />
					</h:graphicImage>
				</div>
			</h:panelGroup>
			<h:panelGroup rendered="#{MBDowntown.countWin lt 5}">
				<div align="center">
					<h:graphicImage value="/media/races/#{MBDowntown.racess[1].tracciato}.jpg"
						styleClass="#{MBDowntown.raceState}>">
						<f:ajax event="click" render="race-pop_up"
							listener="#{MBDowntown.show}" />
					</h:graphicImage>
				</div>
			</h:panelGroup>
			<h:panelGroup rendered="#{MBDowntown.countWin lt 5}">
				<div align="center">
					<h:graphicImage value="/media/races/#{MBDowntown.racess[2].tracciato}.jpg"
						styleClass="#{MBDowntown.raceState}>">
						<f:ajax event="click" render="race-pop_up"
							listener="#{MBDowntown.show}" />
					</h:graphicImage>
				</div>
			</h:panelGroup>
		</div>
		<div class="grid-3">
			<h:panelGroup rendered="#{MBDowntown.countWin lt 5}">
				<div align="center">
					<h:graphicImage value="/media/races/#{MBDowntown.racess[3].tracciato}.jpg"
						styleClass="#{MBDowntown.raceState}>">
						<f:ajax event="click" render="race-pop_up"
							listener="#{MBDowntown.show}" />
					</h:graphicImage>
				</div>
			</h:panelGroup>

			<div align="center">
				<h:panelGroup rendered="#{MBDowntown.countWin ge 6}">
					<h:panelGroup styleClass="#{MBDowntown.bossCss}">
						<h:graphicImage value="/media/imageBoss/Kenji.png">
							<f:ajax event="click" render="race-pop_up"
								listener="#{MBDowntown.show}" />
						</h:graphicImage>
					</h:panelGroup>
				</h:panelGroup>
			</div>

			<h:panelGroup rendered="#{MBDowntown.countWin lt 5}">
				<div align="center">
					<h:graphicImage value="/media/races/#{MBDowntown.racess[4].tracciato}.jpg"
						styleClass="#{MBDowntown.raceState}>">
						<f:ajax event="click" render="race-pop_up"
							listener="#{MBDowntown.show}" />
					</h:graphicImage>
				</div>
			</h:panelGroup>
		</div>

	</h:form>

</h:body>
</html>